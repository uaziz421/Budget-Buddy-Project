<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Administrator Dashboard</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
	<header>
		<a href="dashboard.html"><img src="Logos/Logo1.jpeg" alt="Logo1" width="150" align="right"></a>
		<h3 id="displayName" type="text" align="left"></h3>
		<h3 id="displayUsername" type="text" align="left"></h3>
		<input type="date" id="showCal" align="left">
  </header>
	
  <div class="subheader-container">
	<br>
    <br>
    <br>
	  
    <center>
      <h3 id ="subheaderh3">Welcome to the Administrator Dashboard</h3>
    </center>
		
    <br>
    <br>
    <br>
		
	  <center><a href="administrator/create_user.html">
            <button id ="adminButton">Create New Users</button>
        </a></center>

        <center><a href="administrator/modify_user.html">
        	<button id ="adminButton">Modify User</button>
        </a></center>

       <center><a href="administrator/delete_user.html">
            <button id ="adminButton">Delete User</button>
        </a></center>
		  
		<center><a href="administrator/add_account.html">
            <button id ="adminButton">Add Account</button>
        </a></center>

        <center><a href="administrator/edit_account.html">
        <button id ="adminButton">Edit Account</button>
        </a></center>

       <center><a href="administrator/deactivate_account.html">
            <button id ="adminButton">Deactivate Account</button>
        </a></center>
		
  </div>
	  
<script type="module">
	  // Import the functions you need from the SDKs you need
  		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
		import { getDatabase, set, get, update, remove, ref, child } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
		import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
	

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	const firebaseConfig = {
	  apiKey: "AIzaSyD4skGGVxtzlP_0k_jrXmaeFY3etw3YJvU",
	  authDomain: "swe4317-project.firebaseapp.com",
	  databaseURL: "https://swe4317-project-default-rtdb.firebaseio.com",
	  projectId: "swe4317-project",
	  storageBucket: "swe4317-project.appspot.com",
	  messagingSenderId: "689769398130",
	  appId: "1:689769398130:web:f02cee9af8ffa89ee9e7eb"
	};

  // Initialize Firebase
  	const app = initializeApp(firebaseConfig);
	const db = getDatabase();
	const auth = getAuth();

	
	//Displays current user username and photo
	setTimeout(function(){
        const user = auth.currentUser;
		const dbref = ref(db);
		
		get(child(dbref, "People/" + user.displayName))
		.then((snapshot)=>{
			if(snapshot.exists()) {
				displayName.innerHTML = snapshot.val().FirstName + " " + snapshot.val().LastName; //get current user first and last name
				displayUsername.innerHTML = snapshot.val().Username;

			}
		})
		.catch((error)=>{
			alert(error)
		})
   	},150); //delay is in milliseconds; delay needed to load page then display name.
	
</script>
	  
</body>
</html>

		  
